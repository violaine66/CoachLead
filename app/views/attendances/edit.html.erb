<div class="container">
  <div class="container mt-5">
  <h2>Modifier la présence du joueur</h2>

  <p>
    <strong>Entraînement :</strong>
    <%= l(@training.date, format: :long) %> – <%= @training.title %>
  </p>

  <%= simple_form_for([@training, @attendance]) do |f| %>
    <div class="form-group">
      <%= f.input :user_id,
          collection: @users.map { |u| [u.player_profil&.full_name || u.email, u.id] },
          prompt: "Sélectionner un joueur",
          label: "Joueur",
          input_html: { disabled: true } %>
    </div>

    <div class="form-group">
      <%= f.input :status,
          as: :select,
          collection: Attendance.statuses.keys.map { |s| [s.capitalize, s] },
          prompt: "Choisir un statut",
          label: "Statut de présence" %>
    </div>

    <div class="form-group mt-3">
      <%= f.button :submit, "Mettre à jour", class: "btn btn-success" %>
      <%= link_to "Annuler", training_path(@training), class: "btn btn-secondary ms-2" %>
    </div>
  <% end %>
</div>

</div>
